extends layout


block content
	div#outer(class='container well min400')
		form(class='text-center form-horizontal', id='prefs')
			fieldset
				legend#title_text(class='text-center') Select your Category Preferences
				select.selections.span5(data-placeholder="Choose a category...", multiple, class="chzn-select", name='categories', id='categories', placeholder='Categories...')
					option(value="physical_exertion") Physical Exertion
					option(value="meditation") Meditation
					option(value="education") Education
					option(value="relaxation") Relaxation
					option(value="socialization") Socialization
					option(value="salivation") Salivation

				//- span(class='help-block text-center', style='margin-bottom: 10px; margin-top: 10px;') Please separate categories with a comma.
				label
				button(type='submit', class='text-center btn btn-success') Save Changes



block scripts
	link(rel='stylesheet', href='/stylesheets/chosen.css')
	script(src='javascripts/chosen.jquery.min.js')
	script(src='javascripts/prefs.js')
	script
		console.log("Editing settings...")
		var currentPrefs = JSON.parse('!{prefs}');
		console.log(currentPrefs);
		var options = $('#categories option');
		for (var i=0; i<currentPrefs.length; i++){
			console.log(currentPrefs[i]);
			options.filter('[value="'+currentPrefs[i]+'"]').prop('selected', 'selected');
			//- $("#categories option[value=" + currentPrefs[i] + "]").attr('selected',true);
		}
